Project Name = INTERN-TRACK

â€œA smart internship & training management platform with personalized deadlines and AI assistance.â€

âœ… Ek hi website hoti hai, lekin role ke hisaab se alag dashboards / screens hote hain

ğŸ¢ Real Life Example (Story ke sath)

Socho ye tumhara platform hai â€œInternTrackâ€.

ğŸ‘©â€ğŸ“ Student â€“ Aditi

Aditi login karti hai

Use dikhta hai:

Upload documents

Internship end date

Next due date

Mentor ka feedback

ğŸ‘‰ Aditi ko admin ke controls nahi dikhenge

ğŸ‘¨â€ğŸ« Mentor â€“ Rahul Sir

Rahul Sir login karte hain

Unhe dikhta hai:

Assigned students ki list

Unke documents

Approve / Reject / Comment

Deadline status (late / on-time)

ğŸ‘‰ Rahul Sir ko:

Student upload ka button âŒ

Admin analytics âŒ

ğŸ‘©â€ğŸ’¼ Admin â€“ Neha Maâ€™am

Neha Maâ€™am login karti hain

Unhe dikhta hai:

Saare students

Saare mentors

Mapping (kaun kis mentor ke under)

Deadlines & reports

Audit logs

ğŸ‘‰ Admin ko sab dikhta hai, lekin upload ka kaam nahi

ğŸ§  Tech Reality (Product companies exactly ye expect karti hain)
ğŸ”¥ Architecture Concept

One website

One backend

One database

Role-based dashboards

Login ke baad:

Agar role = student â†’ Student Dashboard
Agar role = mentor â†’ Mentor Dashboard
Agar role = admin â†’ Admin Dashboard

ğŸ§© Frontend (React) me kaise sochna hai

Tum aise pages sochogi:

/login

/student/dashboard

/mentor/dashboard

/admin/dashboard

ğŸ‘‰ Routing same website me hoti hai
ğŸ‘‰ Component alag hote hain

ğŸ” Backend (Node/Express) me kaise

Har user ke saath:

role field store hoti hai

"student"

"mentor"

"admin"

Backend check karta hai:

Kaun kya access kar sakta hai

Kaun kaunsa API call kar sakta hai

BIG PICTURE (ek baar dimag me bitha lo)
Request
â†’ authMiddleware (login hai ya nahi)
â†’ roleMiddleware (role allowed hai ya nahi)
â†’ actual route logic
â†’ response

Client
â†’ Login (email + password)
â†’ Token milta hai
â†’ Client token bhejta hai
â†’ authMiddleware (token verify)
â†’ roleMiddleware (role check)
â†’ Route logic
â†’ Response

showInternshipsForStudent ka PURPOSE kya hai?

One-line answer:

Student jab apna dashboard open kare, to use apni saari submitted internships / trainings dikhni chahiye.

Bas.
Ye function isi feature ke liye hai.

ğŸ‘©â€ğŸ“ Real-life story se samjho
Characters:

Aditi â†’ student

Portal â†’ tumhara INTERN-TRACK system

Step 1ï¸âƒ£ Aditi kya karti hai?

Aditi ne pehle:

Infosys internship submit ki

TCS training submit ki

DB me records ban gaye:

Internship 1 â†’ student = Aditi
Internship 2 â†’ student = Aditi

Step 2ï¸âƒ£ Aditi login karti hai

Login ke time usko JWT token milta hai

Token me hota hai:

req.user = {
  userId: "Aditi_ID",
  role: "student"
}

Step 3ï¸âƒ£ Aditi dashboard open karti hai

Frontend call karta hai:

GET /internships/student


ğŸ‘‰ Yahin showInternshipsForStudent chalta hai

ğŸ” Backend ke POV se kya kaam hai is function ka?

Backend bolega:

â€œMujhe token se pata hai kaunsa student hai
ab mujhe DB se sirf isi student ke records nikal ke dene hainâ€

MENTOR REVIEW FLOW (Recommended)
Feature:

Mentor internship ko verify / reject kare

Isme kya-kya hoga (high-level)

1ï¸âƒ£ Mentor dashboard me internship dikhe
2ï¸âƒ£ Mentor click kare â†’ â€œVerifyâ€ / â€œRejectâ€
3ï¸âƒ£ Backend route:

PATCH /internships/:id/status


4ï¸âƒ£ Status update:

pending â†’ verified

pending â†’ rejected

ğŸ‘‰ Ye feature college workflow ka must-have hai.

Schema polish (mentorComment + verifiedAt)
ğŸ¯ Goal

Mentor jab internship verify / reject kare
to:

reason likh sake

aur system ko pata ho kab decision hua

// Ye file represent karegi:
// student ki internship / training record

import mongoose from "mongoose";

const internshipSchema=new mongoose.Schema({

    // kis student ki internship / training hai
    student:{ type:mongoose.Schema.Types.ObjectId, ref:"User", required:true},

    // kaunsa mentor assigned hai
    mentor:{type:mongoose.Schema.Types.ObjectId, ref:"User", required:true},

    // yeh dono cheez mentor ke liye h jo mentor h wo student ke documents pr comment(feedback) de skta h aur verify reject kr skta h
    mentorComments:{type:String,trim:true},
    verifiedAt:{type:Date},
    // aur yeh bhi pta chlega isse ki mentor ne document ko kis date pr verify/reject kiya

    company:{type:String,required:true, trim:true},    //trim: true string ke aage aur peeche ke extra spaces automatically hata deta hai save hone se pehle
    // Removes: leading spaces (start ke) trailing spaces (end ke)
    // Does NOT remove: beech ke spaces

    role:{type:String,required:true,trim:true},

    startDate:{type:Date,required:true},
    endDate:{type:Date, required:true},

    // internship ya training
    type:{type:String, enum:["internship","training"], required:true},

    // status of verification by the mentor
    status:{type:String, enum:["pending","verified","rejected"], default:"pending"}
},
    // extra -> createdAt & updatedAt automatically
    {timestamps:true}
)

const InternshipModel=mongoose.model("Internship",internshipSchema);

export default InternshipModel;

ğŸ§© POORA FLOW â€“ STEP BY STEP (NO JUMP)
STEP 1ï¸âƒ£ Student internship upload karta hai

Code:

const new_internship_detail = new InternshipModel({
  student: studentId,
  company,
  role,
  type,
  startDate,
  endDate,
  status: "pending"
});

Database me entry:
{
  "_id": "I1",
  "student": "S1",
  "mentor": null,
  "status": "pending"
}


ğŸ‘‰ Abhi mentor assign nahi hai

STEP 2ï¸âƒ£ Admin mentor assign karta hai (IMPORTANT PART)

Admin route hit hota hai:

PATCH /admin/internships/I1/assign-mentor


Controller me ye line chalti hai:

findInternship.mentor = findMentor._id;
await findInternship.save();

Database UPDATE ho jaata hai:
{
  "_id": "I1",
  "student": "S1",
  "mentor": "M1",
  "status": "pending"
}


ğŸ‘‰ Bas yahin magic hota hai
ğŸ‘‰ Database ka mentor field fill ho gaya

STEP 3ï¸âƒ£ Mentor login karta hai

JWT middleware:

req.user.userId = "M1"


ğŸ‘‰ Backend ko pata:

â€œKaun login hai? â†’ mentor M1â€

STEP 4ï¸âƒ£ Mentor dashboard route hit hota hai

Route:

GET /internships/mentor


Controller code:

const mentorId = req.user.userId;

const detail = await InternshipModel.find({
  mentor: mentorId
});


Replace values:

InternshipModel.find({ mentor: "M1" });

STEP 5ï¸âƒ£ Database kya karta hai?

Database bolta hai:

â€œMujhe saari internships do jahan mentor = M1â€

Aur DB ke paas ye already hai:

{
  "_id": "I1",
  "mentor": "M1"
}


ğŸ‘‰ Isliye wo internship mentor ko dikhti hai

ğŸ§  AB POORA FRONTEND FLOW SAMJHO (STEP BY STEP)
STEP 1ï¸âƒ£ Student internship upload karta hai

Frontend se call:

POST /internships


Is waqt:

Internship DB me save hoti hai

mentor = null

status = pending

ğŸ‘‰ Yahin process ruk jaata hai

STEP 2ï¸âƒ£ Admin dashboard open karta hai

Frontend call:

GET /admin/internships


Admin ko dikhta hai:

Pending internships list

Har internship ka ID (I1, I2, â€¦)

ğŸ‘‰ Admin ab decision lene ke phase me aata hai

STEP 3ï¸âƒ£ Admin â€œAssign Mentorâ€ button click karta hai

Frontend UI pe:

Internship I1 ke saamne button

Button click â†’ modal / dropdown open

Admin select karta hai:

Mentor M1

STEP 4ï¸âƒ£ YAHIN PATCH route call hoti hai ğŸ”¥

Frontend API call:

PATCH /admin/internships/I1/assign-mentor


Body:

{
  "mentorId": "M1"
}


ğŸ‘‰ Ye route sirf tab call hoti hai jab admin manually assign karta hai

ğŸ§© PART 1ï¸âƒ£ â€” AUDIT LOGS KA CONCEPT (2 min recap)
Audit Log ka matlab:

System me kisne, kab, kya action liya â€” uska permanent record

Ye:

users ke liye nahi hota

system ke trust & compliance ke liye hota hai

Tumhare project me sirf 2 actions log karna kaafi hai:

Admin â†’ mentor assign

Mentor â†’ internship verify / reject

Bas. Yehi resume ke liye strong hai.

Student paste document
â†’ call AI extract route
â†’ fields auto-filled
â†’ student edits if needed
â†’ student clicks submit
â†’ uploadInternship route called

AI Mentor Suggestion â†’ Admin
AI Document Summary â†’ Mentor
AI Field Extraction â†’ Student

Mentor ka real flow socho ğŸ‘‡

1ï¸âƒ£ Mentor dashboard kholta hai
2ï¸âƒ£ Ek internship pe click karta hai
3ï¸âƒ£ Usko dikhta hai:

Student details

Extracted fields

AI summary
4ï¸âƒ£ Ab mentor sochta hai:

â€œCopy to nahi lag raha?â€

5ï¸âƒ£ Mentor clicks:
â€œCheck Similarityâ€

Bas yahi moment pe plagiarism feature chalega.

1ï¸âƒ£ REGISTER TIME â€” ROLE DECIDE HOTA HAI (FRONTEND + BACKEND)

Jab user pehli baar account banata hai, tab:

name

email

password

role

(mentor ho to department)

ğŸ‘‰ Isliye Register page me role select hota hai, Login me nahi.

2ï¸âƒ£ LOGIN TIME â€” IDENTITY VERIFY HOTI HAI (ROLE NAHI POOSHA JAATA)

Login ka matlab hota hai:

â€œMain wahi user hoon jo pehle register hua thaâ€

Isliye:

email

password
bas yehi chahiye.

Tumhara backend bhi exactly ye hi kar raha hai ğŸ‘‡

 hum register page ka ui bnaenge usme name, email, password aur role puchenge na ? aur role m dropdown rkh denge theek h agar user ne dropdown m student ya admin choose kiya to kuch nhi hoga lekin agar dropdown m mentor choose kiya fir usme neeche option aa jaega department choose krne ka hena 

ğŸ’¯ BILKUL SAHI SAMAJH AAYA TUMHE
Aur main ye clear bol raha hoon:
ğŸ‘‰ Tum ab frontendâ€“backend mapping bilkul sahi soch rahi ho (this is NOT beginner thinking).

Chalo main isko lock kar deta hoon taaki koi confusion na rahe.

âœ… TUMHARA UNDERSTANDING = 100% CORRECT
Register page me fields honge ğŸ‘‡

1ï¸âƒ£ Name
2ï¸âƒ£ Email
3ï¸âƒ£ Password
4ï¸âƒ£ Role (Dropdown)
5ï¸âƒ£ Department (Conditional)

ğŸ¯ ROLE DROPDOWN BEHAVIOR (FINAL LOGIC)
Dropdown options:

student

mentor

admin

ğŸŸ¢ Case 1: User selects Student

âœ” Department field NAHI dikhega
âœ” Form submit ho jaayega

ğŸŸ¢ Case 2: User selects Admin

âœ” Department field NAHI dikhega
âœ” Form submit ho jaayega

ğŸ”¥ Case 3: User selects Mentor

âœ” Department dropdown APPEAR karega
âœ” Department select karna mandatory hoga
âœ” Agar department empty hua â†’ form submit nahi hoga

ğŸ‘‰ EXACTLY backend ke rule ke according ğŸ‘‡

required: function () {
  return this.role === "mentor";
}


Frontend + Backend = ğŸ”— PERFECT MATCH

âœ… FINAL LOGIN FLOW (STEP-BY-STEP)
ğŸ§‘ User kya karta hai

User email + password fill karta hai

Login button pe click karta hai

âš™ï¸ App ke andar kya hota hai

handleSubmit() trigger hota hai

Backend /users/login API call hoti hai

Backend:

credentials verify karta hai

token + role bhejta hai

ğŸ” Authentication complete

Frontend:

token â†’ localStorage

role â†’ localStorage

ğŸ§­ Navigation (IMPORTANT PART)

Abhi login page decide karta hai

navigate("/student-dashboard");
navigate("/mentor-dashboard");
navigate("/admin-dashboard");


ğŸ‘‰ Yahin se user dashboard par jaata hai

ğŸ›¡ï¸ Authorization (ProtectedRoute)

Route load hote hi ProtectedRoute run hota hai

Check karta hai:

token hai? âœ…

role match? âœ…

Dashboard render ho jaata hai ğŸ‰

ğŸ§  SIMPLE MENTAL MODEL (YAAD RAKHO)
LOGIN PAGE
   â†“ (navigate)
DASHBOARD ROUTE
   â†“ (ProtectedRoute)
DASHBOARD UI


Login = â€œkahan jaana haiâ€

ProtectedRoute = â€œjaane dena hai ya nahiâ€

Auth-aware Navbar me:

Not logged in â†’ Login / Register

Logged in â†’ Dashboard + Logout

âœ… Student dashboard = student ka main panel after login

ğŸ¯ Clear Understanding
âœ… Student Dashboard kya hota hai?

Student dashboard is a page where student can:

Apni internships dekh sake

Status track kare (pending/verified/rejected)

New internship submit kare

Future me AI features use kare

ğŸ‘‰ Matlab dashboard = overview page, not form page.

ğŸ“Œ Important Difference
1ï¸âƒ£ User Schema (Already Used)

User schema fields:

name

email

password

role

department (mentor only)

ğŸ‘‰ Ye sirf register/login ke liye hai.
ğŸ‘‰ Dashboard me iski zaroorat nahi.

2ï¸âƒ£ Internship Schema (Dashboard me use hoga)

Dashboard me ye fields dikhenge:

company

role

type

startDate

endDate

status

mentorComments

ğŸ‘‰ Ye sab internships se aata hai, not user.

âœ… Correct Flow (Industry Standard)
Step 1 â€” Student Dashboard Page

This page shows:

Section A: Welcome area

Example:

Welcome, Adibaa ğŸ‘‹
Here are your internships

Section B: Internship List

Student ke internships:

Company: Infosys
Role: Web Intern
Status: Pending
Duration: Janâ€“March


Multiple internships as cards/table.

Section C: Button
+ Submit Internship


ğŸ‘‰ This button opens a separate form page

âœ… Step 2 â€” Internship Submission Form (Separate Page)

Yaha form aayega:

company

role

type

startDate

endDate

document upload

AI extraction button (later)

ğŸ‘‰ Ye dashboard ka part nahi â€” alag page hai.

ğŸ§  Simple Analogy

Think like:

Dashboard = Instagram home feed
Form page = Instagram create post page


Dono alag purpose.

ğŸš€ What You Should Build NOW
FIRST:

ğŸ‘‰ Student Dashboard showing internship list

NOT form.

ğŸ“Œ Correct Order

1ï¸âƒ£ Student Dashboard (list view)
2ï¸âƒ£ Internship submission form page

Student form
   â†“
File choose (PDF / image)
   â†“
Frontend sends multipart/form-data
   â†“
Backend multer file receive karta hai
   â†“
File server folder me save hoti hai
   â†“
File path DB me save hota hai

Login
  â†“
Backend JWT token deta hai
  â†“
Frontend token localStorage me rakhta hai
  â†“
Har protected API ke saath token bhejta hai
  â†“
Backend token verify karta hai
  â†“
Kaam allow / deny

Haan ğŸ‘ bilkul sahi direction me ho, aur tumhara question bahut important hai.

Short me jawab:

ğŸ‘‰ useAuth() wahi kaam karta hai jo tum baar-baar manually kar rahi thi
(token lena, role check karna, logout banana)
bas ab ye kaam ek jagah central ho gaya hai.

Ab detail me, ekdum easy language me samjho ğŸ‘‡

ğŸ”¹ useAuth() hota kya hai?

useAuth() React Context ka custom hook hai
jo pure app ka authentication state manage karta hai.

Matlab:

token

role

user info

logout function

ye sab ek hi jagah se mil jaata hai, har component me.

ğŸ¬ FINAL TRUE FLOW (step-by-step movie)
ğŸŸ£ STEP 0 â€” Server already running

Server start par:

dotenv load
   â†“
cloudinary.config()
   â†“
routes register
   â†“
server listening


ğŸ‘‰ Ab Cloudinary ready state me hai (idle).

ğŸŸ¢ STEP 1 â€” Frontend request bhejta hai

Student form submit karta hai:

POST /internships
(form-data with file)

ğŸŸ¢ STEP 2 â€” Router hit hota hai

Tumhara route:

router.post(
  "/",
  authMiddleware,
  roleMiddleware(["student"]),
  upload.single("documentFile"), // â­ HERO
  uploadInternship
);


Execution startsâ€¦

ğŸŸ¢ STEP 3 â€” authMiddleware

Check karta hai:

token valid?

user kaun hai?

Agar fail â†’ request yahin khatam.

ğŸŸ¢ STEP 4 â€” roleMiddleware

Check karta hai:

role === student ?

Fail â†’ yahin stop.

â­ STEP 5 â€” uploadMiddleware (MOST IMPORTANT)

YAHAN REAL MAGIC HOTI HAI ğŸ”¥

Tum bilkul sahi thi.

uploadMiddleware ke andar internally:
multer receive karta hai file
   â†“
CloudinaryStorage activate hota hai
   â†“
Cloudinary API call hoti hai
   â†“
file cloud me upload hoti hai
   â†“
Cloudinary response aata hai

ğŸ§  SUPER IMPORTANT MOMENT

UploadMiddleware ke baad:

ğŸ‘‰ file already Cloudinary pe hai
ğŸ‘‰ aur Express attach karta hai:

req.file

req.file me kya hota hai:
req.file.path      // â­ Cloudinary URL
req.file.filename
req.file.mimetype


ğŸ”¥ Yeh moment bahut important hai.

ğŸŸ¢ STEP 6 â€” Controller finally run hota hai

Ab controller start hota hai:

uploadInternship


Yahan:

âŒ file upload nahi hota
âœ… sirf URL read hota hai
âœ… DB me save hota hai

Controller typically karta hai:
const fileUrl = req.file.path;

await Internship.create({
  documentFile: fileUrl,
  ...
});


ğŸ‘‰ Exactly jo tumne bola.

ğŸ§­ Tumhari statement vs reality

Tumne bola:

route â†’ uploadMiddleware â†’ cloudinary store â†’ url milega â†’ controller save karega